<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>BGMコマンドリファレンス</title>
	<meta name="author" content="sakano" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里関連リファレンス用標準スタイル" />
	<link href="mailto:komatsu@biscrat.com" rev="Made" />
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-37580101-1']);
		_gaq.push(['_trackPageview']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
</head>
<body>


<h1><a name="tags" id="tags">BGMコマンド</a></h1>
<div class="para">[bgm]タグではBGMの再生、停止などができます。<br />フェード機能を使う場合はConfig.tjsのdoubleBufferedをtrueに設定してください。</div>

<h1><a name="abbreviation" id="abbreviation">省略表記</a></h1>
<div class="para">
<div class="tagremarks">bgmから始まる不明なタグ名は[bgm]タグの<a class="jump" href="#play_play">play</a>属性と見なされます。</div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
@bgm01 intime=1000<br />
; @bgm play=bgm01 intime=1000 と見なされる
</code></div>
</div>
<div class="para">
<div class="tagremarks">[bgm]タグの不明な属性名は<a class="jump" href="#play_play">play</a>属性の属性値と見なされます。</div>
<div class="tagexample"><code class="bq"><span class="weak">例:</span><br />
@bgm test intime=1000<br />
; @bgm play=test intime=1000 と見なされる
</code></div>
</div>

<h1><a name="play" id="play" class="targanchor">BGMの再生</a></h1>
<table class="tagparams" frame="box" rules="all"><thead><tr><td>属性名</td><td>属性値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="play_play" id="play_play">play</a></td><td class="tagattribformat">音声ファイル名</td><td class="tagattribdesc">指定されたファイルを再生開始します。<br />既に同じファイルを再生中なら何もしません。別のファイルが再生中なら停止してから再生開始します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_storage" id="play_storage">storage</a></td><td class="tagattribformat">音声ファイル名</td><td class="tagattribdesc"><a class="jump" href="#play_play">play</a>属性の別名。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_start" id="play_start">start</a></td><td class="tagattribformat">ラベル名</td><td class="tagattribdesc">再生開始位置を指定します。ループチューナで設定したラベル名を指定します。<br />省略時はファイルの最初から再生されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_loop" id="play_loop">loop</a></td><td class="tagattribformat">true/false</td><td class="tagattribdesc">trueを指定するとループ再生します。省略時はtrue。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_paused" id="play_paused">paused</a></td><td class="tagattribformat">true/false</td><td class="tagattribdesc">trueを指定すると再生開始直後に一時停止します。省略時はfalse。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_mvolume" id="play_mvolume">mvolume</a></td><td class="tagattribformat">true/false</td><td class="tagattribdesc">trueを指定すると音量を動画音量に合わせて再生します。省略時はfalse。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_noflag" id="play_noflag">noflag</a></td><td class="tagattribformat">true/false</td><td class="tagattribdesc">trueを指定すると再生フラグを記録しません。省略時はfalse。<br />再生フラグは、例えばplay=bgm01と再生した場合sf.bgm_BGM01&nbsp;= trueとして記録されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_intime" id="play_intime">intime</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">フェードイン時間を指定します。この属性を省略するとフェードせずすぐに再生開始します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_outtime" id="play_outtime">outtime</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc"><a class="jump" href="#play_intime">intime</a>属性と一緒に使います。<br />再生中のファイルのフェードアウト時間を指定します。省略時は5000。再生中でなければ無視されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_overlap" id="play_overlap">overlap</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc"><a class="jump" href="#play_intime">intime</a>属性と一緒に使います。<br />この属性を指定しないとフェードアウトが終わってからフェードインを開始しますが、指定するとその時間だけフェードインの開始が早くなります。<br />outtimeより大きな時間は指定できません。マイナスの値を指定するとフェードイン開始が遅くなります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_time" id="play_time">time</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">intime,&nbsp;outtime, overlapを一括で指定します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_noxchg" id="play_noxchg">noxchg</a></td><td class="tagattribformat">true/false</td><td class="tagattribdesc">trueを指定すると<a class="jump" href="#play_intime">intime</a>,&nbsp;<a class="jump" href="#play_outtime">outtime</a>, <a class="jump" href="#play_overlap">overlap</a>属性が無視され、再生中のファイルはフェードせずすぐに停止します。<br />さらにtime属性はフェードインの時間と見なされます。省略時はfalse。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_sync" id="play_sync">sync</a></td><td class="tagattribformat">true</td><td class="tagattribdesc">trueを指定すると再生が同期実行されます。つまりフェード終了か再生終了を待つようになります。<br />フェードイン再生する場合はフェードイン終了を待ち、しない場合は再生終了を待ちます。<br />ただしループ再生の場合は再生終了しないため再生終了は待てません。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_nosync" id="play_nosync">nosync</a></td><td class="tagattribformat">true</td><td class="tagattribdesc">trueを指定すると再生が非同期実行されます。つまりフェード終了や再生終了を待ちません。<br />デフォルトで非同期実行のためこの属性は常に無視されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_wait" id="play_wait">wait</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">指定すると再生が同期実行され、さらに終了してから追加で指定された時間だけ待ちます。<br />同期実行の詳細は<a class="jump" href="#play_sync">sync</a>属性の欄を参照してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="play_canskip" id="play_canskip">canskip</a></td><td class="tagattribformat">true/false</td><td class="tagattribdesc"><a class="jump" href="#play_sync">sync</a>属性または<a class="jump" href="#play_wait">wait</a>属性と一緒に使います。falseを指定すると終了待ちをクリックでスキップできなくなります。省略時はtrue。</td></tr>
</tbody></table>
<div class="para">
<div class="tagremarks"><a class="jump" href="#play_play">play</a>属性にファイル名を指定してBGMを再生します。</div>
</div>

<h1><a name="stop" id="stop" class="targanchor">BGMの停止</a></h1>
<table class="tagparams" frame="box" rules="all"><thead><tr><td>属性名</td><td>属性値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="stop_stop" id="stop_stop">stop</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">再生中のBGMを停止します。<br />属性値を省略するとすぐに停止します。属性値に時間を指定するとその時間でフェードアウトして停止します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="stop_time" id="stop_time">time</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">フェード時間を指定します。<a class="jump" href="#stop_stop">stop</a>属性に時間を指定するのと同じです。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="stop_sync" id="stop_sync">sync</a></td><td class="tagattribformat">true</td><td class="tagattribdesc">trueを指定するとフェードアウトが同期実行されます。つまりフェード終了を待つようになります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="stop_nosync" id="stop_nosync">nosync</a></td><td class="tagattribformat">true</td><td class="tagattribdesc">trueを指定するとフェードアウトが非同期実行されます。つまりフェード終了を待ちません。<br />デフォルトで非同期実行のためこの属性は常に無視されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="stop_wait" id="stop_wait">wait</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">指定するとフェードアウトが同期実行され、さらに終了してから追加で指定された時間だけ待ちます。<br />同期実行の詳細は<a class="jump" href="#stop_sync">sync</a>属性の欄を参照してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="stop_canskip" id="stop_canskip">canskip</a></td><td class="tagattribformat">true/false</td><td class="tagattribdesc"><a class="jump" href="#stop_sync">sync</a>属性または<a class="jump" href="#stop_wait">wait</a>属性と一緒に使います。falseを指定するとフェード待ちをクリックでスキップできなくなります。省略時はtrue。</td></tr>
</tbody></table>
<div class="para">
<div class="tagremarks"><a class="jump" href="#stop_stop">stop</a>属性で再生中のBGMを停止します。</div>
</div>

<h1><a name="pause" id="pause" class="targanchor">BGMの一時停止</a></h1>
<table class="tagparams" frame="box" rules="all"><thead><tr><td>属性名</td><td>属性値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="pause_pause" id="pause_pause">pause</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">再生中のBGMを一時停止します。<br />属性値を省略するとすぐに停止します。属性値に時間を指定するとその時間でフェードアウトして停止します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pause_time" id="pause_time">time</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">フェード時間を指定します。<a class="jump" href="#pause_pause">pause</a>属性に時間を指定するのと同じです。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pause_sync" id="pause_sync">sync</a></td><td class="tagattribformat">true</td><td class="tagattribdesc">trueを指定するとフェードアウトが同期実行されます。つまりフェード終了を待つようになります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pause_nosync" id="pause_nosync">nosync</a></td><td class="tagattribformat">true</td><td class="tagattribdesc">trueを指定するとフェードアウトが非同期実行されます。つまりフェード終了を待ちません。<br />デフォルトで非同期実行のためこの属性は常に無視されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pause_wait" id="pause_wait">wait</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">指定するとフェードアウトが同期実行され、さらに終了してから追加で指定された時間だけ待ちます。<br />同期実行の詳細は<a class="jump" href="#pause_sync">sync</a>属性の欄を参照してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="pause_canskip" id="pause_canskip">canskip</a></td><td class="tagattribformat">true/false</td><td class="tagattribdesc"><a class="jump" href="#pause_sync">sync</a>属性または<a class="jump" href="#pause_wait">wait</a>属性と一緒に使います。falseを指定するとフェード待ちをクリックでスキップできなくなります。省略時はtrue。</td></tr>
</tbody></table>
<div class="para">
<div class="tagremarks"><a class="jump" href="#pause_pause">pause</a>属性で再生中のBGMを一時停止します。一時停止したBGMは<a class="jump" href="#resume">resume</a>属性で再生再開できます。</div>
</div>

<h1><a name="resume" id="resume" class="targanchor">BGMの再生再開</a></h1>
<table class="tagparams" frame="box" rules="all"><thead><tr><td>属性名</td><td>属性値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="resume_resume" id="resume_resume">resume</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">一時停止中のBGMを再生再開します。<br />属性値を省略するとすぐに再開します。属性値に時間を指定するとその時間でフェードインして再開します。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="resume_time" id="resume_time">time</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">フェード時間を指定します。<a class="jump" href="#resume_stop">stop</a>属性に時間を指定するのと同じです。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="resume_sync" id="resume_sync">sync</a></td><td class="tagattribformat">true</td><td class="tagattribdesc">trueを指定するとフェードインが同期実行されます。つまりフェード終了を待つようになります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="resume_nosync" id="resume_nosync">nosync</a></td><td class="tagattribformat">true</td><td class="tagattribdesc">trueを指定するとフェードインが非同期実行されます。つまりフェード終了を待ちません。<br />デフォルトで非同期実行のためこの属性は常に無視されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="resume_wait" id="resume_wait">wait</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">指定するとフェードインが同期実行され、さらに終了してから追加で指定された時間だけ待ちます。<br />同期実行の詳細は<a class="jump" href="#resume_sycn">sync</a>属性の欄を参照してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="resume_canskip" id="resume_canskip">canskip</a></td><td class="tagattribformat">true/false</td><td class="tagattribdesc"><a class="jump" href="#resume_sync">sync</a>属性または<a class="jump" href="#resume_wait">wait</a>属性と一緒に使います。falseを指定するとフェード待ちをクリックでスキップできなくなります。省略時はtrue。</td></tr>
</tbody></table>
<div class="para">
<div class="tagremarks"><a class="jump" href="#resume_resume">resume</a>属性で一時停止中のBGMを再生再開します。</div>
</div>

<h1><a name="fade" id="fade" class="targanchor">BGMの音量設定</a></h1>
<table class="tagparams" frame="box" rules="all"><thead><tr><td>属性名</td><td>属性値</td><td>説明</td></tr></thead><tbody>
<tr><td class="tagattribname"><a class="targanchor" name="fade_fade" id="fade_fade">fade</a></td><td class="tagattribformat">音量%(0～100)</td><td class="tagattribdesc">BGMの音量を指定します。初期状態では100です。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fade_time" id="fade_time">time</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">フェード時間を指定します。この属性を省略するとすぐに指定音量になります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fade_sync" id="fade_sync">sync</a></td><td class="tagattribformat">true</td><td class="tagattribdesc">trueを指定するとフェードが同期実行されます。つまりフェード終了を待つようになります。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fade_nosync" id="fade_nosync">nosync</a></td><td class="tagattribformat">true</td><td class="tagattribdesc">trueを指定するとフェードが非同期実行されます。つまりフェード終了を待ちません。<br />デフォルトで非同期実行のためこの属性は常に無視されます。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fade_wait" id="fade_wait">wait</a></td><td class="tagattribformat">時間(ms)</td><td class="tagattribdesc">指定するとフェードが同期実行され、さらに終了してから追加で指定された時間だけ待ちます。<br />同期実行の詳細は<a class="jump" href="#fade_sync">sync</a>属性の欄を参照してください。</td></tr>
<tr><td class="tagattribname"><a class="targanchor" name="fade_canskip" id="fade_canskip">canskip</a></td><td class="tagattribformat">true/false</td><td class="tagattribdesc"><a class="jump" href="#fade_sync">sync</a>属性または<a class="jump" href="#fade_wait">wait</a>属性と一緒に使います。falseを指定するとフェード待ちをクリックでスキップできなくなります。省略時はtrue。</td></tr>
</tbody></table>
<div class="para">
<div class="tagremarks"><a class="jump" href="#fade_fade">fade</a>属性でBGMの音量を設定します。音量は<a class="jump" href="#play_play">play</a>属性で再生開始するたびに100にリセットされます。</div>
</div>

</body></html>
